{"ast":null,"code":"import React,{Component}from'react';import SearchArea from'./SearchArea';import request from'superagent';import BookList from'./BookList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Books extends Component{constructor(props){super(props);this.searchBook=e=>{e.preventDefault();const xhr=new XMLHttpRequest();const url=`https://www.googleapis.com/books/v1/volumes?q=${this.state.searchField}`;xhr.open(\"GET\",url,true);// 비동기 요청 설정\nxhr.onreadystatechange=()=>{if(xhr.readyState===4&&xhr.status===200){const data=JSON.parse(xhr.responseText);console.log(data);// 받아온 데이터 출력 (디버그용)\nthis.setState({books:[...(data.items||[])]});// books 상태에 API 응답 데이터 저장\n}else if(xhr.readyState===4){console.error(\"Error fetching books:\",xhr.statusText);}};xhr.send();// 요청 전송\n};this.handleSearch=e=>{console.log(e.target.value);// 디버그용\nthis.setState({searchField:e.target.value});};this.state={books:[],searchField:''};}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchArea,{searchBook:this.searchBook,handleSearch:this.handleSearch}),/*#__PURE__*/_jsx(BookList,{books:this.state.books})]});}}export default Books;","map":{"version":3,"names":["React","Component","SearchArea","request","BookList","jsx","_jsx","jsxs","_jsxs","Books","constructor","props","searchBook","e","preventDefault","xhr","XMLHttpRequest","url","state","searchField","open","onreadystatechange","readyState","status","data","JSON","parse","responseText","console","log","setState","books","items","error","statusText","send","handleSearch","target","value","render","children"],"sources":["C:/book/server/AdvWebProgramming/src/Books.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport SearchArea from './SearchArea';\r\nimport request from 'superagent';\r\nimport BookList from './BookList';\r\n\r\nclass Books extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            books: [],\r\n            searchField: ''\r\n        }\r\n    }\r\n\r\n    searchBook = (e) => {\r\n        e.preventDefault();\r\n    \r\n        const xhr = new XMLHttpRequest();\r\n        const url = `https://www.googleapis.com/books/v1/volumes?q=${this.state.searchField}`;\r\n    \r\n        xhr.open(\"GET\", url, true); // 비동기 요청 설정\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4 && xhr.status === 200) {\r\n                const data = JSON.parse(xhr.responseText);\r\n                console.log(data); // 받아온 데이터 출력 (디버그용)\r\n                this.setState({ books: [...(data.items || [])] }); // books 상태에 API 응답 데이터 저장\r\n            } else if (xhr.readyState === 4) {\r\n                console.error(\"Error fetching books:\", xhr.statusText);\r\n            }\r\n        };\r\n        xhr.send(); // 요청 전송\r\n    }\r\n    \r\n\r\n\r\n    handleSearch = (e) => {\r\n        console.log(e.target.value); // 디버그용\r\n        this.setState({ searchField: e.target.value })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SearchArea searchBook={this.searchBook} handleSearch={this.handleSearch} />\r\n                <BookList books={this.state.books} />\r\n            </div>\r\n        );\r\n    }  \r\n}\r\n\r\nexport default Books;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,OAAO,KAAM,YAAY,CAChC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,KAAK,QAAS,CAAAR,SAAU,CAE1BS,WAAWA,CAACC,KAAK,CAAC,CACd,KAAK,CAACA,KAAK,CAAC,CAAC,KAOjBC,UAAU,CAAIC,CAAC,EAAK,CAChBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,cAAc,CAAC,CAAC,CAChC,KAAM,CAAAC,GAAG,CAAG,iDAAiD,IAAI,CAACC,KAAK,CAACC,WAAW,EAAE,CAErFJ,GAAG,CAACK,IAAI,CAAC,KAAK,CAAEH,GAAG,CAAE,IAAI,CAAC,CAAE;AAC5BF,GAAG,CAACM,kBAAkB,CAAG,IAAM,CAC3B,GAAIN,GAAG,CAACO,UAAU,GAAK,CAAC,EAAIP,GAAG,CAACQ,MAAM,GAAK,GAAG,CAAE,CAC5C,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACX,GAAG,CAACY,YAAY,CAAC,CACzCC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC,CAAE;AACnB,IAAI,CAACM,QAAQ,CAAC,CAAEC,KAAK,CAAE,CAAC,IAAIP,IAAI,CAACQ,KAAK,EAAI,EAAE,CAAC,CAAE,CAAC,CAAC,CAAE;AACvD,CAAC,IAAM,IAAIjB,GAAG,CAACO,UAAU,GAAK,CAAC,CAAE,CAC7BM,OAAO,CAACK,KAAK,CAAC,uBAAuB,CAAElB,GAAG,CAACmB,UAAU,CAAC,CAC1D,CACJ,CAAC,CACDnB,GAAG,CAACoB,IAAI,CAAC,CAAC,CAAE;AAChB,CAAC,MAIDC,YAAY,CAAIvB,CAAC,EAAK,CAClBe,OAAO,CAACC,GAAG,CAAChB,CAAC,CAACwB,MAAM,CAACC,KAAK,CAAC,CAAE;AAC7B,IAAI,CAACR,QAAQ,CAAC,CAAEX,WAAW,CAAEN,CAAC,CAACwB,MAAM,CAACC,KAAM,CAAC,CAAC,CAClD,CAAC,CA9BG,IAAI,CAACpB,KAAK,CAAG,CACTa,KAAK,CAAE,EAAE,CACTZ,WAAW,CAAE,EACjB,CAAC,CACL,CA4BAoB,MAAMA,CAAA,CAAG,CACL,mBACI/B,KAAA,QAAAgC,QAAA,eACIlC,IAAA,CAACJ,UAAU,EAACU,UAAU,CAAE,IAAI,CAACA,UAAW,CAACwB,YAAY,CAAE,IAAI,CAACA,YAAa,CAAE,CAAC,cAC5E9B,IAAA,CAACF,QAAQ,EAAC2B,KAAK,CAAE,IAAI,CAACb,KAAK,CAACa,KAAM,CAAE,CAAC,EACpC,CAAC,CAEd,CACJ,CAEA,cAAe,CAAAtB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}